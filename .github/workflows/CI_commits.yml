# ----------------------------------------------------------------------------
# Commits Syntax Checker Workflow
# This workflow validates commit messages against the Conventional Commits specification.
# Skips validation for automated commits from bots.
# ----------------------------------------------------------------------------

name: Commits Syntax Checker

on:
  push:
    branches: [main, trunk, feature/*, task/*, hotfix/*]

  pull_request:
    branches:
      - main
      - trunk

jobs:
  check:
    name: Conventional Commits
    runs-on: ubuntu-24.04
    # Skip if the actor is a bot (github-actions, actions-user, etc.)
    if: |
      github.actor != 'github-actions[bot]' &&
      github.actor != 'github-actions' &&
      github.actor != 'actions-user'

    steps:
      - name: Validate commit messages
        uses: webiny/action-conventional-commits@v1.3.0
